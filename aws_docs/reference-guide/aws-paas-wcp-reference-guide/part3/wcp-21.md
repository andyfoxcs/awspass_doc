# WCP21-Structured Loop(结构化循环) | AWS 流程引擎对WCP的支持评估

## WCP21-Structured Loop(结构化循环)

_结构化循环_ 结构是指可以重复执行任务子流程的结构，在循环的开始或结束位置，有预测或后测条件，判断是否继续循环。该循环结构有一个单独的入口和出口。

  * 在同一流程实例中，在循环的开始或结束时判断是否继续执行循环。
  * 例如当机器还有燃料时，继续生产。

## 解决方案

### 场景设计

  * “节点1”任务判断是否继续循环
  * 如果选择继续循环，则进入循环，执行“节点2”和“节点3”
  * 如果选择不循环，则跳出循环，执行“节点4”

### 流程建模

![](https://docs.awspaas.com/reference-guide/aws-paas-wcp-reference-guide/part3/wcp21-process-model.png)

> 可以在`工作流控制模式概念验证`应用的`流程模型>3.Iteration Patterns(模迭代模式)>WCP21-Structured Loop(结构化循环)`中访问该流程模型

### 引擎执行

  * ①确认已安装`工作流控制模式概念验证`应用，访问前端`WCP概念验证`菜单入口
  * ②在左侧树中点击`WCP21-Structured Loop(结构化循环)`项
  * ③在列表中点击`新建`按钮，流程实例被创建
  * ④此时，“节点1”已创建一个任务实例，选择是否循环后，点击`办理`按钮，完成任务
  * ⑤如果上一步选择“循环”，则“节点2”创建一个任务实例，在列表打开该任务，点击`办理`按钮，完成任务
  * ⑥此时，“节点3”已创建一个任务实例，在列表打开该任务，点击`办理`按钮，重复第④-⑥步
  * ⑦如果第④步选择“不循环”，则“节点4”创建一个实例，在列表打开该任务，点击`办理`按钮，完成任务流程结束

> 如果列表中未出现`新建`按钮，请首先为此用户设置可启动该流程的权限