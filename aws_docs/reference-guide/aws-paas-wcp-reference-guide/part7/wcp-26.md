# WCP26-Cancel Multiple Instance Activity(取消多例) | AWS 流程引擎对WCP的支持评估

## WCP26-Cancel Multiple Instance Activity(取消多例)

在一个给定的流程实例中，可以创建一个任务的多个实例。所需实例的数量在设计时是已知的。这些实例是相互独立的，并且同时运行的。在任何时间，多个实例任务可以被取消，没有完成的实例都被撤回。已完成的任务实例不受影响。

  * 在同一流程实例中，可以取消在设计期设定好的多个任务实例，已完成任务实例没有影响。也就是说在任意时间，没有完成的任务实例可以撤销。任务实例已经完成的没有影响。
  * 例如检测500份蛋白质样品，若开始后一小时还未完成，则取消未完成部分。

## 解决方案

### 场景设计

  * “节点2”任务执行30秒后未完成，触发“边界时间事件”，未完成的任务实例被撤回。

### 流程建模

![](https://docs.awspaas.com/reference-guide/aws-paas-wcp-reference-guide/part7/wcp26-process-model.png)

> 可以在`工作流控制模式概念验证`应用的`流程模型>7.Cancellation and Force Completion Patterns(取消模式)>WCP26-Cancel Multiple Instance Activity(取消多例)`中访问该流程模型

### 引擎执行

  * 确认已安装`工作流控制模式概念验证`应用，访问前端`WCP概念验证`菜单入口
  * 在左侧树中点击`WCP26-Cancel Multiple Instance Activity(取消多例)`项
  * 在列表中点击`新建`按钮，流程实例被创建
  * 此时，“节点1”已经创建一个任务实例，点击`办理`按钮，完成任务
  * 此时，“节点2”任务已经创建多个实例，30秒后“节点2”任务未完成，触发“边界时间事件”，终止流程，未完成的任务实例被撤回。

> 如果列表中未出现`新建`按钮，请首先为此用户设置可启动该流程的权限