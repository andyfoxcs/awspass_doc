# 树形选择 · AWS PaaS文档中心

# 树形选择

创建一个树形下拉框控件，这是一个私有封装。树形组件也是一种字典类组件，可以根据树状SQL 数据源，构造成一棵异步展开的树。选择树节点后，树节点对应的表记录可以根据预设的字段对应关系回填到当前表单。用于显示和修改被表单数据源绑定的数据，自动通过平台各类权限配置控制其读、写、隐藏状态。

## 运行

PC端  
---  
[![](https://docs.awspaas.com/user-manual/aws-pass-console-user-manual-form-vue-64ga/zj/textsx_pc.png)](<textsx_pc.png>)  
移动端  
[![](https://docs.awspaas.com/user-manual/aws-pass-console-user-manual-form-vue-64ga/zj/textsx_mobile.png)](<textsx_mobile.png>)  
  
> 检索的关键字是配置属性中节点文字配置后展示的内容

## 配置字段属性

[![](https://docs.awspaas.com/user-manual/aws-pass-console-user-manual-form-vue-64ga/zj/textsx1.png)](<textsx1.png>)

**标题**

参见单行[标题](<text.html#title>)

**默认值**

参见单行[默认值](<text.html#mrz>)

**长度**

参见单行[长度](<text.html#length>)

**数据源**

参见单行[辅助录入](<text.html#source>)

>   * 树形字典中的数据源只有`关联表单` `关联存储` `关联字典` `SQL数据` `CC数据服务`，没有`自定义`  
> 
>   * 数据源是`关联表单` `关联存储` `SQL数据` `CC数据服务`显示且必须配置`父级字段` `子级字段` `叶子节点标识`,数据源是`关联字典`不显示这三个属性  
> 
>   * 在树形字典中数据源是`关联字典`时关联的字典只显示父子结构的，简单结构的不显示
> 

**父级字段**

选择父级字段

**子级字段**

选择子级字段

**叶子节点标识**

设置叶子节点的显示条件

> 树形字典通过设置的父子字段查询当前节点的子节点数据。树形形成原理：当组件通过select * from ORGDEPARTMENT where parentdepartmentid = 0 构建出一棵带根的树后，如果用户点击根节点，组件将parentdepartmentid = 0替换为parentdepartmentid = 根节点id，从而查询出根节点的子节点，其余节点依次类推；其他数据源也是同样的原理，如关联表单、关联存储，配置后还需要通过`过滤条件`来查询出根节点的子节点，其余节点在依次类推

**允许选择的节点类型**

设置节点对应数据是否可以回填，默认都可回填，可选的输入值包括：

  * **非叶子节点** 勾选，非叶子节点可以回填

  * **叶子节点** 勾选，叶子节点可以回填

**显示全路径**

开启后，在回填结果里将显示全路径

  * **分隔符** 显示全路径，开启后显示`分隔符`属性,回填结果中显示全路径中可使用的分隔符

**允许多选**

  * **分隔符** 开启多选后，并可设置多个选项之间的分隔符

  * **父节点勾选后自动勾选子节点** 选择父节点，是否自动选择子节点

**显示图标**

开启后，显示`常态图标` `展开状态图标` `收起状态图标`

  * **常态图标** 设计图标参见单行[前后缀-设计图标](<text.html#qhz>)
  * **展开状态图标** 同常态图标
  * **收起状态图标** 同常态图标

**节点文字**

可自行定义节点文字内容，如果取字段的值使用$[XXX]，支持@公式。

**自定义数据回显**

开启后，可添加回显字段，可添加多个回显字段

  * **数据源字段** 选择数据源字段

  * **表单字段** 回填到当前表单字段

> 数据源来自关联表单，数据回显选择的是数据源字段中的子表时，这时运行数据是根据主子表关联查出来的，需要主子表都有数据，运行时才有数据显示

**链接选项**

参见单行[链接选项](<text.html#link>)

**控制属性**

参见单行[控制属性](<text.html#control>)

**不允许重复录入**

参见单行[不允许重复录入](<text.html#nocopy>)

**宽度**

参见单行[宽度](<text.html#wigth>)

**提示文字**

参见单行[提示文字](<text.html#tip>)

**帮助说明**

参见单行[帮助说明](<text.html#help>)

**字段规则**

参见单行[字段规则](<text.html#zdgz>)