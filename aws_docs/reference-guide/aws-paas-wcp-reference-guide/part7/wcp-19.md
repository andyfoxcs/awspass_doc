# WCP19-Cancel Task(取消任务实例) | AWS 流程引擎对WCP的支持评估

## WCP19-Cancel Task(取消任务实例)

可执行任务在开始执行之前都可以被撤销。如果任务已经开始，它变为不可用状态，某些情况下，执行中的实例会被中断并删除。

  * 在同一流程实例中，取消已被激活的任务。也就是一个等待任务执行的线程被取消。
  * 例如在开始之前，买家可以在任何时间取消送货任务。

## 解决方案

### 场景设计

  * “节点1”任务执行中，如果未发生错误，“节点1”完成后，流程结束
  * 如果“节点1”在执行中发生错误，则该任务被中断并取消，“边界错误事件”捕获该任务后，执行“节点2”

### 流程建模

![](https://docs.awspaas.com/reference-guide/aws-paas-wcp-reference-guide/part7/wcp19-process-model.png)

> 可以在`工作流控制模式概念验证`应用的`流程模型>7.Cancellation and Force Completion Patterns(取消模式)>WCP19-Cancel Task(取消任务实例)`中访问该流程模型

### 引擎执行

  * 确认已安装`工作流控制模式概念验证`应用，访问前端`WCP概念验证`菜单入口
  * 在左侧树中点击`WCP19-Cancel Task(取消任务实例)`项
  * 在列表中点击`新建`按钮，流程实例被创建
  * 此时，“节点1”已创建一个任务实例
  * “节点1”在执行过程中，如果未发生错误，完成任务后，流程结束
  * 如果“节点1”在执行过程中发生错误，则“节点1”任务被中断并删除，“边界错误事件”捕获错误后，“节点2”创建任务实例并执行。“节点2”任务完成后，流程结束

> 如果列表中未出现`新建`按钮，请首先为此用户设置可启动该流程的权限