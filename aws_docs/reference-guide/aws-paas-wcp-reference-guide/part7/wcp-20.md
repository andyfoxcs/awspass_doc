# WCP20-Cancel Case(取消流程) | AWS 流程引擎对WCP的支持评估

## WCP20-Cancel Case(取消流程)

整个流程实例被移除。这包括当前正在执行的任务，那些可能在将来的时间里执行和所有子流程中执行的任务。该流程实例被记录成未成功完成。

  * 整个流程被完全取消。
  * 例如在一个保修索赔过程中，发现该政策已经过期，并作为结果，与特定的流程实例相关的所有任务都被取消。

## 解决方案

### 场景设计

  * “节点3”任务执行中，如果未发生错误，“节点2”任务完成后，流程结束
  * 如果“节点3”在执行中发生错误，则该任务被中断并取消，“边界错误事件”捕获该任务后，中断“节点2”任务并删除。

### 流程建模

![](https://docs.awspaas.com/reference-guide/aws-paas-wcp-reference-guide/part7/wcp20-process-model.png)

> 可以在`工作流控制模式概念验证`应用的`流程模型>7.Cancellation and Force Completion Patterns(取消模式)>WCP20-Cancel Case(取消流程)`中访问该流程模型

### 引擎执行

  * 确认已安装`工作流控制模式概念验证`应用，访问前端`WCP概念验证`菜单入口
  * 在左侧树中点击`WCP20-Cancel Case(取消流程)`项
  * 在列表中点击`新建`按钮，流程实例被创建
  * 此时，“节点1”已经创建一个任务实例，点击`办理`按钮，完成任务
  * 此时，“节点2”和“节点3”都已经各自创建一个实例
  * 如果“节点3”在执行过程中未发生错误，在任务列表打开“节点2”任务实例，点击`办理`，完成任务，流程实例结束
  * 如果“节点3”在执行过程中发生错误，则“节点3”任务被中断并删除，“边界错误事件”捕获错误后，“节点2”任务被删除，流程结束

> 如果列表中未出现`新建`按钮，请首先为此用户设置可启动该流程的权限